[env]
# ESP_LOGLEVEL="warn"
ESP_LOGLEVEL="info"
DEFMT_LOG = "info"

[target.riscv32imc-unknown-none-elf]
runner = "espflash flash --monitor"

[target.'cfg(all(target_arch = "arm", target_os = "none"))']
runner = "probe-run --chip RP2040"
# runner = "elf2uf2-rs -d"

# [target.riscv32imc-unknown-none-elf]
# runner = "espflash flash --monitor"

[build]
# rustflags = [
#   "-C",
#   "link-arg=-Tlinkall.x",

#   # Required to obtain backtraces (e.g. when using the "esp-backtrace" crate.)
#   # NOTE: May negatively impact performance of produced code
#   "-C",
#   "force-frame-pointers",

#   # WiFi
#   # "-C", "link-arg=-Trom_functions.x",
# ]

rustdocflags = ["--cfg", "docsrs", "-Z", "unstable-options", "--enable-index-page"]

# target = "riscv32imc-unknown-none-elf"

[alias]
# rb = "run --target riscv32imc-unknown-none-elf --bin"
# rrb = "run --target riscv32imc-unknown-none-elf --release --bin"
# t = "test --target x86_64-unknown-linux-gnu --no-default-features -F std"

website-docs = "doc --no-deps --workspace --target-dir ./docs/skeleton --document-private-items"


# [build]
# target = "thumbv6m-none-eabi" # Cortex-M0 and Cortex-M0+
# run-firmware = "run --target thumbv6m-none-eabi --no-default-features -F firmware"



